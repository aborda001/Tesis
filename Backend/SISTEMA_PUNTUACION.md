# ğŸ¯ Sistema de PuntuaciÃ³n de Emociones - ExplicaciÃ³n

## ğŸ“Š Nuevo Sistema de EvaluaciÃ³n (MÃ¡s Estricto)

### Rangos de PuntuaciÃ³n

- **80-100%**: ğŸŸ¢ Excelente - La emociÃ³n fue expresada muy bien
- **60-79%**: ğŸŸ¡ Bien - Buena aproximaciÃ³n, pero puede mejorar
- **40-59%**: ğŸŸ  Regular - Necesita mÃ¡s expresividad
- **0-39%**: ğŸ”´ Bajo - No se detectÃ³ la emociÃ³n claramente

## ğŸ­ Criterios de EvaluaciÃ³n por EmociÃ³n

### ğŸ˜Š FELIZ (Happy)

**CaracterÃ­sticas esperadas:**
- âœ… **Pitch alto**: >240 Hz (voz mÃ¡s aguda)
- âœ… **Mucha variaciÃ³n**: >40 Hz de desviaciÃ³n estÃ¡ndar (entusiasmo)
- âœ… **EnergÃ­a alta**: >0.15 (hablar fuerte)
- âœ… **Tempo rÃ¡pido**: >140 BPM (hablar rÃ¡pido)
- âœ… **Sonido brillante**: >2200 Hz (timbre claro)

**Puntaje base**: 30 puntos (solo por intentarlo)
**MÃ¡ximo adicional**: 70 puntos por cumplir criterios

**Tips para obtener mejor puntaje:**
1. Habla mÃ¡s fuerte de lo normal
2. Sube el tono de tu voz
3. Habla mÃ¡s rÃ¡pido
4. VarÃ­a mucho el tono (sube y baja)
5. Muestra entusiasmo real

---

### ğŸ˜¢ TRISTE (Sad)

**CaracterÃ­sticas esperadas:**
- âœ… **Pitch bajo**: <140 Hz (voz mÃ¡s grave)
- âœ… **Poca variaciÃ³n**: <12 Hz de desviaciÃ³n (monotonÃ­a)
- âœ… **EnergÃ­a baja**: <0.05 (hablar suave)
- âœ… **Tempo lento**: <70 BPM (hablar despacio)
- âœ… **Sonido apagado**: <1300 Hz (timbre opaco)

**Puntaje base**: 30 puntos
**MÃ¡ximo adicional**: 70 puntos

**Tips:**
1. Habla muy suavemente (casi susurrando)
2. Baja el tono de tu voz
3. Habla despacio
4. MantÃ©n el mismo tono (monotonÃ­a)
5. Sin energÃ­a ni emociÃ³n

---

### ğŸ˜  ENOJADO (Angry)

**CaracterÃ­sticas esperadas:**
- âœ… **Pitch muy alto**: >250 Hz (tensiÃ³n vocal)
- âœ… **Mucha variaciÃ³n**: >50 Hz (intensidad emocional)
- âœ… **EnergÃ­a muy alta**: >0.18 (gritar/enfatizar)
- âœ… **Tempo rÃ¡pido**: >150 BPM (hablar rÃ¡pido)
- âœ… **Aspereza vocal**: >0.09 ZCR (voz Ã¡spera)

**Puntaje base**: 30 puntos
**MÃ¡ximo adicional**: 70 puntos

**Tips:**
1. Habla MUY fuerte
2. Sube mucho el tono
3. Habla muy rÃ¡pido
4. VarÃ­a extremadamente el tono
5. Muestra verdadera intensidad

---

## ğŸ”§ Cambios TÃ©cnicos Realizados

### 1. Sistema de Penalizaciones
- Ahora se restan puntos si las caracterÃ­sticas NO coinciden con la emociÃ³n
- Ejemplo: Si hablas suave en "feliz", se restan 8 puntos

### 2. Umbrales MÃ¡s Estrictos
- **Antes**: EnergÃ­a >0.05 = 10 puntos para "feliz"
- **Ahora**: EnergÃ­a >0.15 = 20 puntos, <0.07 = -8 puntos

### 3. Puntaje Base Reducido
- **Antes**: MÃ­nimo garantizado 40%
- **Ahora**: Puede bajar a 0% si no hay expresiÃ³n

### 4. MÃ¡s CaracterÃ­sticas Evaluadas
- DesviaciÃ³n estÃ¡ndar del pitch (variaciÃ³n)
- Zero Crossing Rate (aspereza vocal)
- Spectral Centroid (brillo del sonido)

---

## ğŸ“ˆ Ejemplos de Resultados

### Ejemplo 1: Feliz - 85%
```
âœ… Pitch: 245 Hz (muy bueno)
âœ… VariaciÃ³n: 42 Hz (excelente)
âœ… EnergÃ­a: 0.16 (perfecta)
âœ… Tempo: 145 BPM (muy bueno)
â†’ Resultado: Â¡Excelente! Capturaste muy bien la emociÃ³n
```

### Ejemplo 2: Feliz - 55%
```
âš ï¸ Pitch: 180 Hz (aceptable)
âš ï¸ VariaciÃ³n: 18 Hz (poca expresividad)
âŒ EnergÃ­a: 0.06 (muy baja)
âš ï¸ Tempo: 100 BPM (lento)
â†’ Resultado: Intenta expresar mÃ¡s la emociÃ³n con tu voz
```

### Ejemplo 3: Feliz - 25%
```
âŒ Pitch: 150 Hz (muy bajo)
âŒ VariaciÃ³n: 8 Hz (monÃ³tono)
âŒ EnergÃ­a: 0.04 (susurro)
âŒ Tempo: 70 BPM (muy lento)
â†’ Resultado: Necesitas mÃ¡s expresividad. Â¡IntÃ©ntalo de nuevo!
```

---

## ğŸ¤ Recomendaciones Generales

1. **Practica primero**: Prueba decir la frase varias veces antes de grabar
2. **Exagera**: Es mejor exagerar la emociÃ³n que quedarse corto
3. **SÃ© consistente**: MantÃ©n la emociÃ³n durante toda la grabaciÃ³n
4. **Escucha el ejemplo**: Los ejemplos dados son buenos modelos
5. **Intenta de nuevo**: Si obtienes bajo puntaje, analiza quÃ© faltÃ³ y vuelve a intentar

---

## ğŸ› Debugging - Ver los Valores

En los logs de Python (consola donde corre `emotion_service.py`) verÃ¡s:

```
INFO:__main__:Analizando emociÃ³n: happy
INFO:__main__:Pitch promedio: 210.45 Hz
INFO:__main__:EnergÃ­a promedio: 0.0823
INFO:__main__:Tempo: 125.50 BPM
INFO:__main__:DesviaciÃ³n pitch: 25.32 Hz
INFO:__main__:Score calculado: 67
```

Usa estos valores para entender quÃ© necesitas mejorar.
